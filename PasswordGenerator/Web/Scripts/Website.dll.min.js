(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;$.Define($$,{Website:{Password:{Settings:$.Class({},{Create:function(w,x,y,z){return $.New(c,{Length:w,UpperCase:x,Numbers:y,Other:z});}}),alpha:$.Field(function(){return e.toList(f.range(97,122));}),charStrength:function(A){var B;B=b["|Alpha|Upper|Number|Punct|Other|"](A);if(B.$==1){return 26;}else{if(B.$==2){return 9;}else{if(B.$==3){return 17;}else{if(B.$==4){return 17;}else{return 26;}}}}},generate:function(C,D){var E;E=b.shuffle(C);return e.toList(e.delay(function(){return e.collect(function(){var H;H=i.Next2(0,C.get_Length()-1);return[E.get_Item(H)];},f.range(1,D));}));},"generate'":function(I){var J,K,L,M,R;J=I.UpperCase;K=I.Numbers;L=I.Other;M=e.toList(e.delay(function(){return e.append(b.alpha(),e.delay(function(){return e.append(J?b.upperCase():e.empty(),e.delay(function(){return e.append(K?b.numbers():e.empty(),e.delay(function(){if(L){return b.punctuation();}else{return e.empty();}}));}));}));}));R=I.Length;return b.generate(M,R);},numbers:$.Field(function(){return e.toList(f.range(49,57));}),punctuation:$.Field(function(){return j.ofArray([126,96,33,64,35,36,37,94,38,42,40,41,45,95,43,61,34]);}),remove:function(S,T){var U,V;U=(V=function(W){return!k.Equals(W,S);},function(X){return j.filter(V,X);});return U(T);},shuffle:function(Y){return e.toList(e.delay(function(){var _0,_1;_0=i.Next2(0,Y.get_Length()-1);_1=Y.get_Item(_0);return e.append([_1],e.delay(function(){var _3;_3=b.remove(_1,Y);if(!(_3.$==0)){return b.shuffle(_3);}else{return e.empty();}}));}));},strength:function(_4){var _5,_6,_7,_9,be;_5=(_6=(_7=function(_8){return b.charStrength(_8);},e.sumBy(_7,_4)),(_9=function(_){var ba,bb,bc;ba=(bb=l(_),m.log(bb))*(l(_4.get_Length())/m.log(2));bc=function(bd){return m.floor(bd);};return bc(ba);},_9(_6)));be=function(bf){var bg;bg=b["|Weak|Medium|Strong|Best|"](bf);if(bg.$==1){return{$:1};}else{if(bg.$==2){return{$:2};}else{if(bg.$==3){return{$:3};}else{return{$:0};}}}};return be(_5);},upperCase:$.Field(function(){return e.toList(f.range(65,90));}),"|Alpha|Upper|Number|Punct|Other|":function(bg){var bh,bi,bj,bm,bn,bo,br,bs,bt,bw,bx,by;if(bh=b.alpha(),(bi=(bj=function(bk){return bk===bg;},function(bl){return e.exists(bj,bl);}),bi(bh))){return{$:0,$0:null};}else{if(bm=b.upperCase(),(bn=(bo=function(bp){return bp===bg;},function(bq){return e.exists(bo,bq);}),bn(bm))){return{$:1,$0:null};}else{if(br=b.numbers(),(bs=(bt=function(bu){return bu===bg;},function(bv){return e.exists(bt,bv);}),bs(br))){return{$:2,$0:null};}else{if(bw=b.punctuation(),(bx=(by=function(bz){return bz===bg;},function(bA){return e.exists(by,bA);}),bx(bw))){return{$:3,$0:null};}else{return{$:4,$0:null};}}}}},"|Weak|Medium|Strong|Best|":function(bB){if(bB>=128){return{$:3,$0:null};}else{if(bB<128?bB>=64:false){return{$:2,$0:null};}else{if(bB<64?bB>=56:false){return{$:1,$0:null};}else{return{$:0,$0:null};}}}}},SettingsFormlet:{Client:{SettingsFormletViewer:$.Class({get_Body:function(){return o.formlet();}}),form:$.Field(function(){var bC,bD,bE,bL,bN;bC=(bD=q.$(q.$(q.$(q.$((bE=function(bF){return function(bG){return function(bH){return function(bI){return(function(bJ){return function(bK){return c.Create(bF,bG,bJ,bK);};}(bH))(bI);};};};},r.Return(bE)),o.lengthSelect()),o.upperCaseCheckbox()),o.numbersCheckbox()),o.otherCheckbox()),(bL=function(bM){return s.WithSubmitAndResetButtons(bM);},bL(bD)));bN=function(bO){return s.WithFormContainer(bO);};return bN(bC);}),formlet:$.Field(function(){return r.Run(function(bP){var bQ,bR,bS,bT,bX,bY,bZ;bQ=b["generate'"](bP);bR=(bS=(bT=function(bU){return function(bV){return bU+t.fromCharCode(bV);};},function(bW){return e.fold(bT,"",bW);}),bS(bQ));bX=(bY=b.strength(bQ),bY.$==1?["Medium",50,"progress progress-warning"]:bY.$==2?["Strong",75,"progress progress-success"]:bY.$==3?["Best",100,"progress progress-info"]:["Weak",25,"progress progress-danger"]);bZ=$.Tupled(function(b0){var b1,b2,b3;b1=b0[0];b2=b0[1];b3=b0[2];return o.updateView(bR,b1,b2,b3);});return bZ(bX);},o.form());}),lengthList:$.Field(function(){var b4,b5,b6;b4=e.toList(f.range(6,32));b5=(b6=function(b7){return[$$.String(b7),b7];},function(b8){return j.map(b6,b8);});return b5(b4);}),lengthSelect:$.Field(function(){var b9,b_;b9=u.Select(8,o.lengthList());b_=function(b$){return s.WithTextLabel("Length",b$);};return b_(b9);}),numbersCheckbox:$.Field(function(){var ca,cb;ca=u.Checkbox(false);cb=function(cc){return s.WithTextLabel("Numbers",cc);};return cb(ca);}),otherCheckbox:$.Field(function(){var cd,ce;cd=u.Checkbox(false);ce=function(cf){return s.WithTextLabel("Other",cf);};return ce(cd);}),updateView:function(cg,ch,ci,cj){var ck;ck="width: "+$$.String(ci)+"%;";v("#password").attr("value",cg);v("#strengthLabel").text("Strength: "+ch);v("#progressDiv").attr("class",cj);return v("#progress").attr("style",ck);},upperCaseCheckbox:$.Field(function(){var cl,cm;cl=u.Checkbox(false);cm=function(cn){return s.WithTextLabel("Upper Case",cn);};return cm(cl);})}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Password);c=$.Safe(b.Settings);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Seq);f=$.Safe(d.Operators);g=$.Safe($$.ExtSharper);h=$.Safe(g.Random);i=$.Safe(h.Random);j=$.Safe(d.List);k=$.Safe(d.Unchecked);l=$.Safe($$.Number);m=$.Safe($$.Math);n=$.Safe(a.SettingsFormlet);o=$.Safe(n.Client);p=$.Safe(d.Formlet);q=$.Safe(p.Data);r=$.Safe(p.Formlet);s=$.Safe(p.Enhance);t=$.Safe($$.String);u=$.Safe(p.Controls);return v=$.Safe($$.jQuery);});$.OnLoad(function(){o.upperCaseCheckbox();o.otherCheckbox();o.numbersCheckbox();o.lengthSelect();o.lengthList();o.formlet();o.form();b.upperCase();b.punctuation();b.numbers();b.alpha();});}());
